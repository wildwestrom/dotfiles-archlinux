set $XDG_CONFIG_HOME $HOME/.config

# theme variables
set $theme $XDG_CONFIG_HOME/sway/themes/matcha-green

# user variables
include $XDG_CONFIG_HOME/sway/definitions
include $XDG_CONFIG_HOME/sway/definitions.d/*.conf

# enable modes
include $XDG_CONFIG_HOME/sway/modes/*

# additional config
include $XDG_CONFIG_HOME/sway/config.d/*.conf

output * bg $bg fill

# Focus on main monitor on startup
exec focus output $external_monitor
bindswitch --reload --locked lid:on output $laptop disable
bindswitch --reload --locked lid:off output $laptop enable

# Bind workspaces to monitors
workspace $ws1  output $external_monitor
workspace $ws2  output $external_monitor
workspace $ws3  output $external_monitor
workspace $ws4  output $external_monitor
workspace $ws5  output $external_monitor
workspace $ws6  output $laptop_monitor
workspace $ws7  output $laptop_monitor
workspace $ws8  output $laptop_monitor
workspace $ws9  output $laptop_monitor
workspace $ws10 output $laptop_monitor

# Startup
exec {
    nm-applet --indicator
    protonmail-bridge --no-window
    light -I
    transmission-gtk -m
    discord-canary
    thunderbird
    slack
    element-desktop
    signal-desktop
    jami
    foot --server
    /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 
}

exec_always {
    'pkill fcitx5; fcitx5 -d || fcitx5 -d'
    'pkill kanshi; kanshi || kanshi'
    dbus-update-activation-environment --systemd --all
}

# Gaps
gaps inner 10
gaps outer 4
smart_gaps off
#default_border none
focus_follows_mouse yes

# TODO Figure out how to have multiple fonts by priority
font pango:Sarasa Mono J 10

# Status Bar:
bar swaybar_command waybar

include /etc/sway/config.d/*
